<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/css/main.css" />
    <title>Climate Solutions</title>
  </head>
  <body>
    <!-- default to '/' route -->
    <header><%- include('partials/navbar', { page: '' }) %></header>

    <div class="container mx-auto">
      <!-- Hero Content -->
      <div
        class="hero bg-base-200 min-400 mb-10 rounded-md px-4 mx-4 sm:mx-auto"
      >
        <div class="hero-content text-center">
          <div class="max-w-md">
            <h1 class="text-5xl font-bold">Edit Project: <%= project.title %></h1>
            <p class="py-6">Please fill out the form below to be able to edit the selected project</p>

          </div>
        </div>
      </div>
    </div>
    <!-- end of hero content/title -->
    
    <div class="max-w-lg mx-auto p-4"> 
        <form class="flex flex-col items-center w-full space-y-4" method="post" action="/solutions/editProject">
            <div class="w-full">
                <input type="hidden" name="id" value="<%= project.id %>" />
            </div>
            
            <div class="w-full"> 
                <label for="title" class="block text-left mb-1">Title</label> 
                <input type="text" name="title" required class="w-full p-2 rounded" value="<%= project.title %>" /> 
            </div>

            <div class="w-full">
                <label for="feature_img_url" class="block text-left mb-1">Image URL:</label>
                <input type="url" name="feature_img_url" required class="w-full p-2 rounded" value="<%= project.feature_img_url %>"/>
            </div>
            
            <div class="w-full">
                <label for="sector_id" class="block text-left mb-1">Sector</label>
                <select name="sector_id" required class="w-full p-2 rounded">
                   <% sectors.forEach(sector=>{ %>
                        <option <%= (project.sector_id == sector.id ) ? "selected" : "" %> value="<%= sector.id %>">
                            <%= sector.sector_name %>
                        </option>
                    <% }) %>

                </select>
            </div>

            <div class="w-full">
                <label for="intro_short" class="block text-left mb-1"> Intro </label>
                <textarea id="intro_short" name="intro_short" required class="w-full p-2 rounded"><%= project.intro_short %></textarea>
            </div>

            <div class="w-full">
                <label for="summary_short" class="block text-left mb-1">Summary</label>
                <textarea id="summary_short" name="summary_short" required class="w-full p-2 rounded"><%= project.summary_short %></textarea>
            </div>

            <div class="w-full">
                <label for="impact" class="block text-left mb-1">Impact</label>
                <textarea id="impact" name="impact" required class="w-full p-2 rounded"><%= project.impact %></textarea>
            </div>

            <div class="w-full">
                <label for="original_source_url" class="block text-left mb-1">Source URL</label>
                <input type="url" name="original_source_url" required class="w-full p-2 rounded" value="<%=project.original_source_url%>" />
            </div>
                        
            <button class="btn btn-primary mt-10" type="submit">Update Project</button>
            <a class="btn btn-error" href="/solutions/deleteProject/<%= project.id %>">Delete Project</a>
        </form>
    </div>
  </body>
</html>
